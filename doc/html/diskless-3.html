<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
 <META NAME="GENERATOR" CONTENT="SGML-Tools 1.0.9">
 <TITLE>SLUG talk: Setting up a diskless Linux system: Server setup</TITLE>
 <LINK HREF="diskless-4.html" REL=next>
 <LINK HREF="diskless-2.html" REL=previous>
 <LINK HREF="diskless.html#toc3" REL=contents>
</HEAD>
<BODY>
<A HREF="diskless-4.html">Next</A>
<A HREF="diskless-2.html">Previous</A>
<A HREF="diskless.html#toc3">Contents</A>
<HR>
<H2><A NAME="Server"></A> <A NAME="s3">3. Server setup</A></H2>

<P>
<P>
<H2><A NAME="ss3.1">3.1 Bootpd setup</A>
</H2>

<P>
<P>
<UL>
<LI>Install bootpd
</LI>
<LI>Edit <CODE>/etc/bootptab</CODE>, typical line
</LI>
</UL>
<P>
<PRE>
xterm.ken.net.au:tc=.default:ht=ethernet:ha=08002BB7F380:\
        ip=192.168.26.100:bf=vmlinuz.xterm
</PRE>
<P>
<H2><A NAME="ss3.2">3.2 Tftpd setup</A>
</H2>

<P>
<P>
<UL>
<LI>Install tftpd, make sure it's active in <CODE>/etc/inetd.conf</CODE>,
typical line
</LI>
</UL>
<P>
<PRE>
tftp dgram udp wait root /usr/sbin/tcpd in.tftpd /tftpdir
</PRE>
<P>
<H2><A NAME="ss3.3">3.3 Kernel image</A>
</H2>

<P>
<P>You must compile a kernel for the DC that includes NFS support and NIC
driver compiled in (not modules).  Answer yes to <EM>Root file system
on NFS?</EM> and <EM>BOOTP support?</EM>
<P>
<P>
<P>After building the kernel, run <CODE>mknbi-linux</CODE> from the
Etherboot distribution on it.  Install this <EM>tagged image</EM> as
<CODE>/tftpdir/</CODE><I>&lt;bf attribute in bootptab></I>.
<P>
<HR>
<A HREF="diskless-4.html">Next</A>
<A HREF="diskless-2.html">Previous</A>
<A HREF="diskless.html#toc3">Contents</A>
</BODY>
</HTML>
